using System.Collections;
using System.Collections. Generic;
using UnityEngine;

public class Coin : MonoBehaviour
{
    public float lifetime = 5f; // Time before the coin disappears
    public int scoreValue = 1; // Points awarded for collecting the coin

    void Start()
    {
        // Set a random position within screen bounds
        transform.position = new Vector3(
            Random.Range(-8f, 8f),  // Replace with your screen boundaries
            Random.Range(-4f, 4f),  // Replace with your screen boundaries
            0
        );

        // Start the countdown to destroy the coin
        StartCoroutine(DestroyAfterTime());
    }

    private IEnumerator DestroyAfterTime()
    {
        yield return new WaitForSeconds(lifetime);
        Destroy(gameObject);
    }

    private void OnTriggerEnter2D(Collider2D other)
    {
        // Check if the player collided with the coin
        if (other.CompareTag("Player"))
        {
            // Add score and destroy the coin
            GameManager.Instance.AddScore(scoreValue);
            Destroy(gameObject);
        }
    }
}
